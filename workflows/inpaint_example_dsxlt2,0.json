{"id":"d1248744-d69b-49f7-bc58-1db999731801","revision":0,"last_node_id":37,"last_link_id":99,"nodes":[{"id":32,"type":"MarkdownNote","pos":[129.9615838922406,862.4677962133828],"size":[260,100],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"title":"About Scale Image to Total Pixels","properties":{},"widgets_values":["The model this template uses is trained based on a 512*512 image dataset. So if you use an input image that's too large, it might cause some issues. We've added the Scale image to total pixels node to scale images. If you're quite familiar with this model, you can remove it."],"color":"#432","bgcolor":"#653"},{"id":31,"type":"MarkdownNote","pos":[-320,110],"size":[380,310],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"Tutorial links","properties":{},"widgets_values":["[Tutorial](https://docs.comfy.org/tutorials/basic/inpaint) \n\n## Model link\n**checkpoint**\n\n[512-inpainting-ema.safetensors](https://huggingface.co/stabilityai/stable-diffusion-2-inpainting/resolve/main/512-inpainting-ema.safetensors)\n\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ checkpoints/\nâ”‚   â”‚   â””â”€â”€ 512-inpainting-ema.safetensors\n\n```\n\n\n\n## Report issue\nIf you have any problems running this workflow, please report template-related issues via this link: [report the template issue here](https://github.com/Comfy-Org/workflow_templates/issues)"],"color":"#432","bgcolor":"#653"},{"id":29,"type":"CheckpointLoaderSimple","pos":[80,150],"size":[315,98],"flags":{"collapsed":false},"order":2,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[80]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[81,82]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[83,84]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple","cnr_id":"comfy-core","ver":"0.3.18","models":[{"name":"512-inpainting-ema.safetensors","url":"https://huggingface.co/stabilityai/stable-diffusion-2-inpainting/resolve/main/512-inpainting-ema.safetensors","directory":"checkpoints"}]},"widgets_values":["dreamshaper-xl-v2-turbo\\DreamShaperXL_Turbo_v2.safetensors"]},{"id":7,"type":"CLIPTextEncode","pos":[491.51412397887543,269.77514179717934],"size":[425.2799987792969,180.61000061035156],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":82},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[6]}],"properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":["watermark, text, blurry, low quality, extra limbs, distorted text, \n"],"color":"#223","bgcolor":"#335"},{"id":8,"type":"VAEDecode","pos":[1950.8745723788995,79.74011321478721],"size":[210,46],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":42},{"localized_name":"vae","name":"vae","type":"VAE","link":84}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[22]}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":[]},{"id":6,"type":"CLIPTextEncode","pos":[489.5141239788755,56.77514179717946],"size":[422.8500061035156,164.30999755859375],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":81},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[4]}],"properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":["white background"],"color":"#232","bgcolor":"#353"},{"id":33,"type":"ImageScaleToTotalPixels","pos":[289.89838088738065,726.9825648851496],"size":[260,82],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":98},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"megapixels","name":"megapixels","type":"FLOAT","widget":{"name":"megapixels"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[95]}],"properties":{"Node name for S&R":"ImageScaleToTotalPixels","cnr_id":"comfy-core","ver":"0.3.64"},"widgets_values":["area",0.25]},{"id":26,"type":"VAEEncodeForInpaint","pos":[1298.3502802500172,449.8508485535139],"size":[226.8000030517578,98],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":91},{"localized_name":"vae","name":"vae","type":"VAE","link":83},{"localized_name":"mask","name":"mask","type":"MASK","link":99},{"localized_name":"grow_mask_by","name":"grow_mask_by","type":"INT","widget":{"name":"grow_mask_by"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[72]}],"properties":{"Node name for S&R":"VAEEncodeForInpaint","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":[8]},{"id":36,"type":"ImagePadForOutpaint","pos":[861.7176308496272,724.4376070619172],"size":[279.6590747888795,299.0313569893839],"flags":{"collapsed":false},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":95},{"localized_name":"left","name":"left","type":"INT","widget":{"name":"left"},"link":null},{"localized_name":"top","name":"top","type":"INT","widget":{"name":"top"},"link":null},{"localized_name":"right","name":"right","type":"INT","widget":{"name":"right"},"link":null},{"localized_name":"bottom","name":"bottom","type":"INT","widget":{"name":"bottom"},"link":null},{"localized_name":"feathering","name":"feathering","type":"INT","widget":{"name":"feathering"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[91]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[]}],"properties":{"Node name for S&R":"ImagePadForOutpaint"},"widgets_values":[304,0,200,0,30]},{"id":3,"type":"KSampler","pos":[1613.175137338055,84.34124313309724],"size":[315,262],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":80},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":4},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":6},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":72},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[42]}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":[321889663152171,"randomize",20,6,"uni_pc_bh2","normal",0.25]},{"id":34,"type":"MarkdownNote","pos":[129.9615838922406,1002.4677962133824],"size":[260,90],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"About how to draw mask","properties":{},"widgets_values":["Click on the **Load Image** node, then use the right-click menu to open the mask editor to draw a mask."],"color":"#432","bgcolor":"#653"},{"id":9,"type":"SaveImage","pos":[1690.9316462212846,582.570938856184],"size":[824.4819513188368,539.3243678937299],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":22},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveImage","cnr_id":"comfy-core","ver":"0.3.18"},"widgets_values":["ComfyUI-VINYL"]},{"id":20,"type":"LoadImage","pos":[-282.89035613977,732.467796213383],"size":[385,365],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[98]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[99]}],"properties":{"Node name for S&R":"LoadImage","cnr_id":"comfy-core","ver":"0.3.18","image":"clipspace/clipspace-painted-masked-1765097305823.png [input]"},"widgets_values":["ComfyUI-VINYL_00002_.png","image"]}],"links":[[4,6,0,3,1,"CONDITIONING"],[6,7,0,3,2,"CONDITIONING"],[22,8,0,9,0,"IMAGE"],[42,3,0,8,0,"LATENT"],[72,26,0,3,3,"LATENT"],[80,29,0,3,0,"MODEL"],[81,29,1,6,0,"CLIP"],[82,29,1,7,0,"CLIP"],[83,29,2,26,1,"VAE"],[84,29,2,8,1,"VAE"],[91,36,0,26,0,"IMAGE"],[95,33,0,36,0,"IMAGE"],[98,20,0,33,0,"IMAGE"],[99,20,1,26,2,"MASK"]],"groups":[{"id":1,"title":"Step2 - Load image and draw mask","bounding":[-300.03841610775925,652.4677962133828,810,480],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Step1 - Load model","bounding":[70,80,335,181.60000610351562],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Step3 - Prompt","bounding":[477.5141239788755,-21.224858202820574,450,480],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.9562868421711751,"offset":[799.2947755727694,-250.94223787131114]},"frontendVersion":"1.31.1","workflowRendererVersion":"LG","linkExtensions":[{"id":99,"parentId":4}],"reroutes":[{"id":1,"pos":[505.22757156746195,527.6079105429518],"linkIds":[]},{"id":2,"parentId":1,"pos":[1163.3260658463712,520.6872962127708],"linkIds":[]},{"id":3,"pos":[100.09693085219003,508.63280210191243],"linkIds":[99]},{"id":4,"parentId":3,"pos":[604.2645063919247,506.79076312014297],"linkIds":[99]}]},"version":0.4}